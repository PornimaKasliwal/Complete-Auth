import{f as u,g as x,i as j,k as p,r as b,b as m,c as k,d,j as e,h as n}from"./index-APhMtbCr.js";const N=()=>{const{data:r}=u(),[c]=x(),[o]=j(),[h]=p(),[t,l]=b.useState(),s=m({enableReinitialize:!0,initialValues:{task:t?t.task:"",desc:t?t.desc:"",priority:t?t.priority:""},validationSchema:k({task:d().required("Enter Name"),desc:d().required("Enter Name"),priority:d().required("Enter Name")}),onSubmit:(a,{resetForm:i})=>{t?(o({...a,_id:t._id}),l(null)):c(a),i()}});return e.jsxs("div",{className:"container",children:[e.jsxs("form",{onSubmit:s.handleSubmit,children:[e.jsxs("div",{children:[e.jsx("input",{type:"text",...s.getFieldProps("task"),className:n(s,"task")}),e.jsx("span",{className:"invalid-feedback",children:s.errors.task}),e.jsx("span",{className:"valid-feedback",children:"thank you"})]}),e.jsxs("div",{children:[e.jsx("input",{type:"text",...s.getFieldProps("desc"),className:n(s,"desc")}),e.jsx("span",{className:"invalid-feedback",children:s.errors.desc}),e.jsx("span",{className:"valid-feedback",children:"thank you"})]}),e.jsxs("div",{children:[e.jsxs("select",{...s.getFieldProps("priority"),className:n(s,"priority"),children:[e.jsx("option",{value:"high",children:"high"}),e.jsx("option",{value:"medium",children:"medium"}),e.jsx("option",{value:"low",children:"low"})]}),e.jsx("span",{className:"invalid-feedback",children:s.errors.priority}),e.jsx("span",{className:"valid-feedback",children:"thank you"})]}),t?e.jsx("button",{type:"submit",class:"btn btn-warning w-100",children:"Update Todo"}):e.jsx("button",{type:"submit",class:"btn btn-primary w-100",children:"Add Todo"})]}),r&&e.jsxs("table",{class:"table table-dark ",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"task"}),e.jsx("th",{children:"desc"}),e.jsx("th",{children:"priority"}),e.jsx("th",{children:"action"})]})}),e.jsx("tbody",{children:r.result.map(a=>e.jsxs("tr",{children:[e.jsx("td",{children:a.task}),e.jsx("td",{children:a.desc}),e.jsx("td",{children:a.priority}),e.jsxs("td",{children:[e.jsx("buttone",{onClick:i=>l(a),className:"btn btn-sm btn-outline-warning",children:"Edit"}),e.jsx("buttone",{onClick:i=>h(a._id),className:"btn btn-sm btn-outline-danger",children:"Delete"})]})]},a._id))})]})]})};export{N as default};
